## 1. 安全组简介

安全组是一种有状态的包过滤功能的虚拟防火墙， 它用于设置单台或多台云服务器的网络访问控制， 是一种重要的网络安全隔离手段。

安全组是一个逻辑上的分组， 可以将同一地域内具有相同网络安全隔离需求的云服务器实例加到同一个安全组内。您可以通过安全组的网络策略对云服务器的出入流量进行安全过滤。

在您创建 CVM 实例时，将一个或多个安全组与该实例相关联。为安全组添加规则，规定流入或流出其关联的 CVM 实例的流量。

您可以随时修改安全组的规则；新规则立即生效，应用于与该安全组相关联的所有 CVM 实例。您在 CVM 实例控制台中，本机安全组配置的安全组们的优先级，将作为我们判断该实例总的安全规则的评估依据。

腾讯云在每个地域均添加了三个默认安全组，分别为：默认安全组放通全部端口，Linux安全组放通22端口（允许ssh远程登录Linux服务器），Windows安全组放通3389端口（允许mstsc远程登录Windows服务器）。您可根据需要绑定默认安全组。

## 2. 安全组的限制

- 安全组同时适用于 基础网络 和 私有网络的 CVM 实例。
　　
- 每个用户的在每个地域每个项目下享有50个安全组配额。
　　
- 一个安全组入站方向、出站方向的访问策略，各最多可设定100条。
　　
- 一个 CVM 可以加入多个安全组，一个安全组可同时关联多个 CVM，数量无限制。

> 注意： 安全组内 CVM 实例个数虽无限制，但不宜过多，如超过1000个。如果您有大量个数的 CVM 实例需要内网互访，可以将他们分配到多个安全组内，并通过安全组ID的规则配置方式，进行互相授权允许互访。


| 功能描述 | 数量 | 
|---------|---------|
| 安全组 | 50个/地域 |
| 访问策略 | 100条/入站方向，100条/出站方向 |
| CVM关联安全组个数 | 无限制 |
| 安全组内CVM的个数| 无限制 |


## 3. 安全组规则
安全组规则可控制允许到达与安全组相关联的 CVM 实例的入站流量以及允许离开 CVM 实例的出站流量（从上到下依次筛选规则）。默认情况下，新建安全组将 All Drop （拒绝）所有流量。
对于安全组的每条规则，您可以指定以下几项内容：

●	协议类型：例如 TCP、UDP 或 ICMP 等。
●	端口：来源或目标的端口范围。
●	授权类型：地址段（CIDR/IP）访问，或安全组访问（安全组ID）；
●	来源（入站规则）或目标（出站规则）的以下选项之一：
　○	用 CIDR 表示法，指定的单个 IP 地址。
　○	用 CIDR 表示法，指定的 IP 地址范围（例如，203.0.113.0/24）。
　○	引用安全组ID。您可以引用以下安全组的ID之一：
　　■	当前安全组。(表示与安全组关联的CVM可/不可互访)
　　■	同一区域中的另一个安全组ID。

> 注意：引用安全组ID作为高阶功能，您可选择使用，这不会将规则从引用安全组添加到当前安全组，即：此时安全组ID代表他关联的 CVM 实例们的内网 IP 地址。

●	策略：允许，或拒绝。
> 引用安全组ID且设置策略为允许时表示：与来源安全组ID关联的CVM 可以访问 与本安全组关联的CVM，或 与本安全组关联的CVM 可以访问 与目标安全组关联的CVM。


## 4. 安全组与网络ACL的区别
| 安全组 | 网络ACL | 
|---------|---------|
| 在 CVM 实例级别的操作（第一防御层） | 在子网级别的操作（第二防御层） |
| 支持允许规则和拒绝规则 | 支持允许规则和拒绝规则 |
| 有状态：返回数据流会被自动允许，不受任何规则的影响 | 无状态：返回数据流必须被规则明确允许 |
| 只有在启动 CVM 实例的同时指定安全组、或稍后将安全组与实例关联的情况下，操作才会被应用到实例 | 自动应用到关联子网内的所有 CVM 实例 |


## 5. 安全组云API
安全组的开发者工具，您可通过云API来完成安全组操作，安全组与CVM实例的配置管理，点击[这里](http://www.qcloud.com/doc/api/229/API%E6%A6%82%E8%A7%88#6.-安全组相关接口)。



